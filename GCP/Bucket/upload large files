Task upload large file to GCP bucket. This is not a script

# ensure gcloud signin

$ gcloud auth login

# Select the project 

$ gcloud config set project PROJECT_ID

check the bucket 

$ gsutil ls

Get Bucket details 
$ gsutil ls -L -b gs://nj-backup/

# Upload small file 
$gsutil cp mdata-rgp.tar.gz gs://nj-backup/mdata

# upload large file 

$ gsutil -o GSUtil:parallel_composite_upload_threshold=150M cp mdata-rgp.tar.gz gs://nj-backup/mdata

Example 
[root@jenkins-digital NJS]# gsutil ls
You are attempting to perform an operation that requires a project id, with none configured. Please re-run gsutil config and make sure to follow the instructions for findin
[root@jenkins-digital NJS]# gsutil config
CommandException: OAuth2 is the preferred authentication mechanism with the Cloud SDK.
Run "gcloud auth login" to configure authentication, unless:
- You don't want gsutil to use OAuth2 credentials from the Cloud SDK,
  but instead want to manage credentials with .boto files generated by
  running "gsutil config"; in which case run "gcloud config set
  pass_credentials_to_gsutil false".
- You want to authenticate with an HMAC access key and secret, in
  which case run "gsutil config -a".
[root@jenkins-digital NJS]# gcloud auth login
Go to the following link in your browser:

url
    
Enter verification code: XXXXXXXX
WARNING: `gcloud auth login` no longer writes application default credentials.
If you need to use ADC, see:
  gcloud auth application-default --help

You are now logged in as [Gaurav XXXXXXX].
Your current project is [None].  You can change this setting by running:
  $ gcloud config set project PROJECT_ID
[root@jenkins-digital NJS]# gcloud config set project nj-rmg-backup
Updated property [core/project].
[root@jenkins-digital NJS]# gsutil ls
gs://nj-backup/
[root@jenkins-digital NJS]# gsutil ls -L gs://nj-backup/

[root@jenkins-digital NJS]#
[root@jenkins-digital NJS]# gsutil ls -L -b gs://nj-backup/
gs://nj-backup/ :
        Storage class:                  REGIONAL
        Location constraint:            US-EAST1
        Versioning enabled:             None
        Logging configuration:          None
        Website configuration:          None
        CORS configuration:             None
        Lifecycle configuration:        None
        Requester Pays enabled:         None
        Labels:                         None
        Default KMS key:                None
        Time created:                   Mon, 04 Feb 2019 10:50:42 GMT
        Time updated:                   Mon, 04 Feb 2019 10:50:42 GMT
        Metageneration:                 1
        ACL:
          [
            {
              "entity": "project-owners-720511407481",
              "projectTeam": {
                "projectNumber": "720511407481",
                "team": "owners"
              },
              "role": "OWNER"
            },
            {
              "entity": "project-editors-720511407481",
              "projectTeam": {
                "projectNumber": "720511407481",
                "team": "editors"
              },
              "role": "OWNER"
            },
            {
              "entity": "project-viewers-720511407481",
              "projectTeam": {
                "projectNumber": "720511407481",
                "team": "viewers"
              },
              "role": "READER"
            }
          ]
        Default ACL:
          [
            {
              "entity": "project-owners-720511407481",
              "projectTeam": {
                "projectNumber": "720511407481",
                "team": "owners"
              },
              "role": "OWNER"
            },
            {
              "entity": "project-editors-720511407481",
              "projectTeam": {
                "projectNumber": "720511407481",
                "team": "editors"
              },
              "role": "OWNER"
            },
            {
              "entity": "project-viewers-720511407481",
              "projectTeam": {
                "projectNumber": "720511407481",
                "team": "viewers"
              },
              "role": "READER"
            }
          ]
[root@jenkins-digital NJS]# ls -tlr
total 44909320
-rw-r--r-- 1  506  506 21398652557 Feb  1 07:34 mdata-rgp.tar.gz
-rw-r--r-- 1 root root 24588477070 Feb  1 07:43 mdata-rgs.tar.gz
[root@jenkins-digital NJS]# gsutil ls  gs://nj-backup/mdata
gs://nj-backup/mdata/
[root@jenkins-digital NJS]# gsutil cp mdata-rgp.tar.gz gs://nj-backup/mdata
Copying file://mdata-rgp.tar.gz [Content-Type=application/x-tar]...
==> NOTE: You are uploading one or more large file(s), which would run
significantly faster if you enable parallel composite uploads. This
feature can be enabled by editing the
"parallel_composite_upload_threshold" value in your .boto
configuration file. However, note that if you do this large files will
be uploaded as `composite objects
<https://cloud.google.com/storage/docs/composite-objects>`_,which
means that any user who downloads such objects will need to have a
compiled crcmod installed (see "gsutil help crcmod"). This is because
without a compiled crcmod, computing checksums on composite objects is
so slow that gsutil disables downloads of composite objects.

^CCaught CTRL-C (signal 2) - exiting3.6 MiB/s
[root@jenkins-digital NJS]# gsutil -o GSUtil:parallel_composite_upload_threshold=150M cp mdata-rgp.tar.gz gs://nj-backup/mdata
Copying file://mdata-rgp.tar.gz [Content-Type=application/x-tar]...
- [1 files][ 19.9 GiB/ 19.9 GiB]      0.0 B/s
Operation completed over 1 objects/19.9 GiB.
[root@jenkins-digital NJS]# gsutil -o GSUtil:parallel_composite_upload_threshold=150M cp mdata-rgs.tar.gz gs://nj-backup/mdata
Copying file://mdata-rgs.tar.gz [Content-Type=application/x-tar]...
\ [1 files][ 22.9 GiB/ 22.9 GiB]      0.0 B/s
Operation completed over 1 objects/22.9 GiB.
You have new mail in /var/spool/mail/root
[root@jenkins-digital NJS]# mail
-bash: mail: command not found
[root@jenkins-digital NJS]# mail
-bash: mail: command not found
[root@jenkins-digital NJS]# ls -tlr
total 44909320
-rw-r--r-- 1  506  506 21398652557 Feb  1 07:34 mdata-rgp.tar.gz
-rw-r--r-- 1 root root 24588477070 Feb  1 07:43 mdata-rgs.tar.gz
[root@jenkins-digital NJS]#
